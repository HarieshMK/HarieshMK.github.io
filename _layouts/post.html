---
layout: default
---

<div class="progress-container">
  <div class="progress-bar-track">
    <div class="progress-bar" id="myBar"></div>
  </div>
</div>

<article class="post-content">
  <header class="post-header">
    <h1>{{ page.title }}</h1>
    <div class="post-meta">
      <time>{{ page.date | date: "%B %d, %Y" }}</time>
      <span class="separator">•</span>
      <span class="reading-time">
        {% assign words = content | number_of_words %}
        {{ words | divided_by: 180 | plus: 1 }} min read
      </span>
    </div>
  </header>

  <div class="entry-content">
    {{ content }}
  </div>
</article>

<section class="subscribe-box">
   <div class="ml-embedded" data-form="TsxbQJ"></div>
</section>

<section class="comments">
  <h3>Discussion</h3>
  <p style="font-size: 0.85rem; color: #666; margin-bottom: 20px;">
    Have a thought or a question? Share it below. (No account required)
  </p>
  
  <div id="cusdis_thread"
    data-host="https://cusdis.com"
    data-app-id="078e37ac-a7c4-4015-a9ec-e3e1aa8ca3f0"
    data-page-id="{{ page.url }}"
    data-page-url="{{ site.url }}{{ page.url }}"
    data-page-title="{{ page.title }}">
  </div>
  
  <script async defer src="https://cusdis.com/js/cusdis.es.js"></script>
</section>

<div class="post-footer">
  <div class="post-nav">
    <div class="nav-prev">
      {% if page.previous %}
        <a href="{{ page.previous.url | relative_url }}" class="nav-link">
          <span class="nav-label">← Previous</span>
          <span class="nav-title">{{ page.previous.title }}</span>
        </a>
      {% endif %}
    </div>

    <div class="nav-next">
      {% if page.next %}
        <a href="{{ page.next.url | relative_url }}" class="nav-link">
          <span class="nav-label">Next →</span>
          <span class="nav-title">{{ page.next.title }}</span>
        </a>
      {% endif %}
    </div>
  </div>

  <div class="back-to-blog-container">
    <a href="{{ '/blogs' | relative_url }}" class="back-link">View All Writing</a>
  </div>
</div>

<script>
window.onscroll = function() { moveProgressBar() };

function moveProgressBar() {
  const barContainer = document.querySelector('.progress-container');
  const myBar = document.getElementById("myBar");
  const article = document.querySelector('.entry-content');
  
  if (!barContainer || !myBar || !article) return;

  // Get the position of the actual blog content
  const rect = article.getBoundingClientRect();
  const articleHeight = article.offsetHeight;
  
  // Calculate how much of the article has passed the top of the screen
  // We subtract window height to ensure it hits 100% at the bottom of the text
  let progress = 0;
  if (rect.top < 0) {
    progress = (Math.abs(rect.top) / (articleHeight - window.innerHeight + 500)) * 100;
  }

  // Show bar only when reading the article
  if (rect.top < 100 && rect.bottom > 0) {
    barContainer.style.opacity = "1";
  } else {
    barContainer.style.opacity = "0";
  }

  // Cap it at 100%
  myBar.style.width = Math.min(progress, 100) + "%";
}
</script>
